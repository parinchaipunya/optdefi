\documentclass{article}
\usepackage[a4paper, margin=1in]{geometry}
\usepackage{lipsum}
\usepackage{optdefi}

\title{The {\ttfamily optdefi} package}
\author{Parin Chaipunya}

\begin{document}
\maketitle

\section{Optimization}
\lipsum[1]
\begin{subequations}\label{optsystem}
  \begin{optim}
    \setObj{\min}{x}{cx} \label{Obj}
    \addEqCons{a_{1}x}{b_{1}}
    \addEqCons{a_{2}x}{b_{2}}
    \addIneqCons{a_{3}x}{b_{3}}
    \addLbCons{x}{0}
    \addInclCons{x}{\mathbb{Z}}. \label{lastCons}
  \end{optim}
\end{subequations}
This is the whole system \eqref{optsystem}, and \eqref{Obj} is the objective function, while \eqref{lastCons} is the last constraint.

\section{Bilevel optimization}

A standard optimistic bilevel optimization problem is written as
\begin{optim*}
  \setObj{\minormax}{x,y}{F(x,y)}
  \addLbCons{x}{0}
  \addInclCons{y}{S(x)}.
\end{optim*}




\end{document}
